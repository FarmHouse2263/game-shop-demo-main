<!-- HTML Template -->
<header>
  <div class="header-container">
    <div class="logo">
      <img src="https://raw.githubusercontent.com/FarmHouse2263/imageGameShop/refs/heads/main/Xbox%20Controller.png" alt="Game Controller">
      <h1>GAME SHOP</h1>
    </div>

     <div class="search-filters">
    <input type="text" placeholder="ค้นหาเกมตามชื่อ" [(ngModel)]="searchName" (ngModelChange)="onSearchNameChange($event)">
    <select [(ngModel)]="searchCategory" (ngModelChange)="onSearchCategoryChange($event)">
      <option value="">ทุกประเภท</option>
      <option value="action">Action</option>
      <option value="rpg">RPG</option>
      <option value="puzzle">Puzzle</option>
      <option value="sports">Sports</option>
      <option value="adventure">Adventure</option>
    </select>
  </div>
  
    <div class="profile-section">
      <span class="profile-label">คลังเกม</span>
      <div class="profile-avatar" title="โปรไฟล์ของฉัน" (click)="goToProfile()">
        <svg viewBox="0 0 24 24">
          <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></path>
        </svg>
      </div>
      <button class="logout-icon-only" title="ออกจากระบบ" (click)="logout()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
          <polyline points="16 17 21 12 16 7"></polyline>
          <line x1="21" y1="12" x2="9" y2="12"></line>
        </svg>
      </button>
    </div>
  </div>
</header>

<main>
  <!-- ช่องค้นหา -->
 

  <div class="games-grid">
    <ng-container *ngIf="games$ | async as games; else noGames">
    <div class="game-card" *ngFor="let game of games" (click)="goToGameDetail(game.id)">
      <div class="game-image-container">
        <img class="game-image" [src]="game.imageUrl" [alt]="game.title">
      </div>
      <div class="game-title">{{ game.title }}</div>
    </div>
  </ng-container>

    <ng-template #noGames="">
      <p>ยังไม่มีเกมในระบบ</p>
    </ng-template>
  </div>
</main>